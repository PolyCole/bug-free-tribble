<!DOCTYPE html>
{% load static %}
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Pastoral Poetry</title>
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
    <link rel="stylesheet" href="{% static 'css/bootstrap.css' %}">
    <link rel="stylesheet" href="{% static 'css/particles.css' %}">

</head>
<body style="width:200vh; height:200vh; overflow-x:hidden;">
<div class="particle-wrapper">
    <div id="particles-js" style="position:fixed;">
        <div class="content-wrapper">
            <div class="col-lg title" style="margin-top: 8px;"><h1>Literary Inquiry: The Pastoral</h1></div>
            <div class="col-md">
                <p>For my final project in Literary Inquiry, I decided to do something a little bit different. All quarter,
                we had been discussing different pastoral elements found in text. In one of the novels we read, <em>Do
                    Androids Dream of Electric Sheep</em> by Philip Dick, there was a moment when one of the characters,
                John Isidore begins to theorize about how a certain talkshow host named Buster Friendly, has the time
                to produce his 24/7 audio and video show.</p>

                <p>The answer, to any human reading the novel, is that Buster Friendly is an android, tasked solely
                with generating content to put on air during his show. This section got me wondering, is it possible to
                have a computer generate pastoral content in our world today? So I got to researching. I found a tutorial
                on TensorFlow's website about generating text using a Recurrent Neural Network, and began my proceedings there.</p>

                <div class="container" style="align-content: center;">
                    <div class="btn btn-primary" onclick="creatediv()">Generate Poetry</div>
                </div>
                <div id="poetryWrapper" class="container"></div>

            </div>

        </div>
    </div>
</div>
<script src="{% static 'js/particles.js' %}"></script>
<script src="{% static 'js/app.js' %}"></script>
<script>
async function creatediv(){
    const poetryDiv = document.getElementById("poetry");
    if(poetryDiv != undefined) {
        poetryDiv.remove();
    }

    const poem = await getPoetry();
    let newPoem = document.createElement('span');
    newPoem.className="poem";
    newPoem.id = "poetry";
    newPoem.innerHTML = poem;
    document.getElementById("poetryWrapper").appendChild(newPoem);
}

async function getPoetry() {
    const proxyurl = "https://cors-anywhere.herokuapp.com/";
    const resourceurl = "https://pastoral-poetry.s3.amazonaws.com/1.txt";

    const response = await fetch(proxyurl + resourceurl)
        .then(response => response.text());

    console.log(response);
    return response;
}
</script>

</body>
</html>